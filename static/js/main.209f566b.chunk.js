(this["webpackJsonpborrow-app"]=this["webpackJsonpborrow-app"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),o=n(23),s=n.n(o),i=(n(32),n(27)),a=(n(33),n(10)),l=n(16);n(34),n(36);l.a.initializeApp({apiKey:"AIzaSyCzUqJjRTxgoJblrJVLkIQk-L8_3CTwuXk",authDomain:"borrow-app-94790.firebaseapp.com",projectId:"borrow-app-94790",storageBucket:"borrow-app-94790.appspot.com",messagingSenderId:"332649218689",appId:"1:332649218689:web:78c322b1b416751a388380"});var u=l.a.database(),j=l.a,b=(n(40),n(5));function h(e,t,n,r){u.ref("borrowReq").push({borrowAmount:e,borrowReason:t,borrowDuration:n,borrowUpiID:r})}var d=n(1);function O(){var e=Object(b.g)(),t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),i=Object(a.a)(s,2),l=i[0],h=i[1],O=Object(r.useState)(""),x=Object(a.a)(O,2),f=x[0],p=x[1],m=Object(r.useRef)("");Object(r.useEffect)((function(){try{m.current.focus()}catch(e){}}),[]);var v=function(){window.recaptchaVerifier=new j.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){g()}})},g=function(e){e.preventDefault(),v();var t="+91"+l;console.log("Phone no is",t);var n=window.recaptchaVerifier;j.auth().signInWithPhoneNumber(t,n).then((function(e){window.confirmationResult=e,console.log("OTP sent"),alert("OTP Sent")})).catch((function(e){alert("OTP Not Sent"),console.log("OTP not sent",e)}))};return localStorage.getItem("userPhone")?Object(d.jsx)(b.a,{to:"/borrow"}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"signin",children:[Object(d.jsx)("h1",{children:"Existing Customer   "}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"inp",children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",required:!0,value:c,placeholder:"Enter Your Name ...",ref:m,spellCheck:"false",onChange:function(e){o(e.target.value)}})]})}),Object(d.jsxs)("div",{className:"inp",children:[Object(d.jsx)("div",{children:Object(d.jsx)("label",{children:"Gender"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",value:"Male",name:"gender"})," Male",Object(d.jsx)("input",{type:"radio",value:"Female",name:"gender"})," Female",Object(d.jsx)("input",{type:"radio",value:"Other",name:"gender"})," Other"]})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:g,children:[Object(d.jsx)("div",{id:"sign-in-button"}),Object(d.jsxs)("div",{className:"inp",children:[Object(d.jsx)("label",{children:" Phone Number "}),Object(d.jsx)("input",{type:"tel",value:l,required:!0,placeholder:"Enter Phone Number ...",onChange:function(e){return h(e.target.value)}})]}),Object(d.jsxs)("div",{className:"send-otp",children:[" ",Object(d.jsx)("button",{children:"Send OTP"})," "]})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=f;window.confirmationResult.confirm(n).then((function(t){!function(e,t){u.ref("users").push({name:e,phoneNo:t})}(c,l),localStorage.setItem("userPhone",l),console.log("Verified",e),e.push("/borrow")})).catch((function(e){alert("Invalid OTP"),console.log("verification error")}))},children:[Object(d.jsxs)("div",{className:"inp",children:[Object(d.jsx)("label",{children:" Enter OTP "}),Object(d.jsx)("input",{type:"number",required:!0,placeholder:"Enter OTP ...",onChange:function(e){return p(e.target.value)}})]}),Object(d.jsxs)("div",{className:"verify-otp",children:[" ",Object(d.jsx)("button",{children:"Verify"})," "]})]})})]})})}var x=n(12),f=(n(46),function(){var e=Object(b.g)(),t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),i=Object(a.a)(s,2),l=i[0],O=i[1],x=Object(r.useState)(""),f=Object(a.a)(x,2),p=f[0],m=f[1],v=Object(r.useState)(""),g=Object(a.a)(v,2),w=g[0],N=g[1],S=Object(r.useState)([]),I=Object(a.a)(S,2),R=I[0],y=I[1],P=Object(r.useRef)("");Object(r.useEffect)((function(){try{P.current.focus()}catch(e){}}),[]);return Object(r.useEffect)((function(){u.ref("users").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({name:n.name,phoneNo:n.phoneNo})})),console.log("all users",t),y(t)}))}),[]),Object(d.jsxs)("div",{className:"borrow-comp",children:[Object(d.jsxs)("div",{className:"users",children:[Object(d.jsx)("h1",{children:"Current Users"}),R?Object(d.jsx)("div",{children:R.map((function(e,t){return Object(d.jsx)("div",{className:"user",children:Object(d.jsxs)("li",{children:[" ",e.name," "]})},t)}))}):Object(d.jsx)("h2",{children:"No Users Found"})]}),Object(d.jsxs)("div",{className:"borrow",children:[Object(d.jsx)("h1",{children:"REQUEST HERE"}),Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" Borrow Amount "}),Object(d.jsx)("input",{type:"number",value:c,placeholder:"Enter the borrow amount",onChange:function(e){o(e.target.value)},ref:P,required:!0})]}),Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" Borrow Reason "}),Object(d.jsx)("input",{type:"text",value:l,placeholder:"Reason for Borrowing",onChange:function(e){O(e.target.value)},required:!0})]}),Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" Borrow Duration "}),Object(d.jsx)("input",{type:"text",value:p,placeholder:"Enter the Borrow Duration",onChange:function(e){m(e.target.value)},required:!0})]}),Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" UPI ID "}),Object(d.jsx)("input",{value:w,placeholder:"Enter your UPI ID",onChange:function(e){N(e.target.value)},required:!0})]}),Object(d.jsx)("div",{className:"raise-request",children:Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),c&&p&&h&&w?(h(c,l,p,w),e.push("/dashboard")):alert("Input Fields can't be empty ")},children:"Raise Borrow Request"})}),Object(d.jsx)("div",{className:"signout-btn",children:Object(d.jsx)("button",{onClick:function(){j.auth().signOut().then((function(){localStorage.removeItem("userPhone"),e.push("/"),alert("Sign Out Successfully..."),console.log("Sign Out")})).catch((function(e){console.log("Error During SignOut",e)}))},children:"Sign Out"})})]})]})]})}),p=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:" OOPS.! Sommething Went Wrong..."})})},m=(n(47),function(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsxs)(x.b,{to:"/",children:[" ",Object(d.jsx)("button",{className:"home-btn",children:"Home"})," "]}),Object(d.jsxs)(x.b,{to:"/",children:[" ",Object(d.jsx)("h1",{children:"Borrow App"})," "]})]})}),v=(n(48),function(){return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("h1",{children:"Borrow Money.?"}),Object(d.jsx)("div",{className:"apply-btn",children:Object(d.jsx)(x.b,{to:"/signin",children:Object(d.jsx)("button",{children:" Borrow Now "})})})]})}),g=n(26),w=(n(49),function(){var e=Object(b.g)(),t=Object(r.useState)([]),n=Object(a.a)(t,2),c=n[0],o=n[1];Object(g.useEffect)((function(){u.ref("borrowReq").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({borrowAmount:n.borrowAmount,borrowDuration:n.borrowDuration,borrowReason:n.borrowReason,borrowUpiID:n.borrowUpiID})})),console.log("all users",t),o(t)}))}),[]);return Object(d.jsxs)("div",{className:"dashboard",children:[c?Object(d.jsxs)("div",{className:"requests",children:[Object(d.jsx)("h1",{children:"All Requests"}),Object(d.jsx)("div",{className:"details",children:c.map((function(e,t){return Object(d.jsxs)("div",{className:"req",children:[Object(d.jsxs)("li",{children:[" Amount: ",e.borrowAmount," "]}),Object(d.jsxs)("li",{children:[" Duration: ",e.borrowDuration," "]}),Object(d.jsxs)("li",{children:[" Reason: ",e.borrowReason," "]}),Object(d.jsxs)("li",{children:[" Upi ID: ",e.borrowUpiID," "]})]},t)}))}),Object(d.jsx)("div",{className:"signout-btn",children:Object(d.jsx)("button",{onClick:function(){j.auth().signOut().then((function(){localStorage.removeItem("userPhone"),e.push("/"),alert("Sign Out Successfully..."),console.log("Sign Out")})).catch((function(e){console.log("Error During SignOut",e)}))},children:"Sign Out"})})]}):Object(d.jsx)("h2",{children:"No Requests Found"}),Object(d.jsx)("div",{className:"raiseNewReq",children:Object(d.jsx)("button",{onClick:function(){e.push("/borrow")},children:"Raise New Request"})})]})});var N=function(){var e=localStorage.getItem("userPhone");function t(t){var n=t.Component,r=t.path;return e=localStorage.getItem("userPhone"),Object(d.jsx)(b.b,{path:r,render:function(t){return e?Object(d.jsx)(n,Object(i.a)({},t)):Object(d.jsx)(b.a,{to:"/"})}})}return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(m,{}),Object(d.jsxs)(b.d,{children:[Object(d.jsx)(b.b,{exact:!0,path:"/",component:v}),Object(d.jsx)(b.b,{exact:!0,path:"/signin",component:O}),Object(d.jsx)(t,{exact:!0,path:"/borrow",Component:f}),Object(d.jsx)(t,{exact:!0,path:"/dashboard",Component:w}),Object(d.jsx)(b.b,{component:p})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),o(e),s(e)}))};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),S()}},[[50,1,2]]]);
//# sourceMappingURL=main.209f566b.chunk.js.map