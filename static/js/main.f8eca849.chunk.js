(this["webpackJsonpborrow-app"]=this["webpackJsonpborrow-app"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),o=n(23),s=n.n(o),a=(n(32),n(27)),i=(n(33),n(10)),j=n(16);n(34),n(36);j.a.initializeApp({apiKey:"AIzaSyCzUqJjRTxgoJblrJVLkIQk-L8_3CTwuXk",authDomain:"borrow-app-94790.firebaseapp.com",projectId:"borrow-app-94790",storageBucket:"borrow-app-94790.appspot.com",messagingSenderId:"332649218689",appId:"1:332649218689:web:78c322b1b416751a388380"});var l=j.a.database(),u=j.a,b=(n(40),n(5));function h(e,t,n,c){l.ref("borrowReq").push({borrowAmount:e,borrowReason:t,borrowDuration:n,borrowUpiID:c})}var d=n(1);function O(){var e=Object(b.g)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(""),a=Object(i.a)(s,2),j=a[0],h=a[1],O=Object(c.useState)(""),x=Object(i.a)(O,2),p=x[0],f=x[1],m=Object(c.useRef)("");Object(c.useEffect)((function(){try{m.current.focus()}catch(e){}}),[]);var v=function(){window.recaptchaVerifier=new u.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){w()}})},w=function(e){e.preventDefault(),v();var t="+91"+j,n=window.recaptchaVerifier;u.auth().signInWithPhoneNumber(t,n).then((function(e){window.confirmationResult=e,alert("OTP Sent")})).catch((function(e){alert("OTP Not Sent")}))};return localStorage.getItem("userPhone")?Object(d.jsx)(b.a,{to:"/borrow"}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"signin",children:[Object(d.jsx)("h1",{children:"Existing Customer   "}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"inp",children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",required:!0,value:r,placeholder:"Enter Your Name ...",ref:m,spellCheck:"false",onChange:function(e){o(e.target.value)}})]})}),Object(d.jsxs)("div",{className:"inp",children:[Object(d.jsx)("div",{children:Object(d.jsx)("label",{children:"Gender"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",value:"Male",name:"gender"})," Male",Object(d.jsx)("input",{type:"radio",value:"Female",name:"gender"})," Female",Object(d.jsx)("input",{type:"radio",value:"Other",name:"gender"})," Other"]})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:w,children:[Object(d.jsx)("div",{id:"sign-in-button"}),Object(d.jsxs)("div",{className:"inp",children:[Object(d.jsx)("label",{children:" Phone Number "}),Object(d.jsx)("input",{type:"tel",value:j,required:!0,placeholder:"Enter Phone Number ...",onChange:function(e){return h(e.target.value)}})]}),Object(d.jsxs)("div",{className:"send-otp",children:[" ",Object(d.jsx)("button",{children:"Send OTP"})," "]})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=p;window.confirmationResult.confirm(n).then((function(t){!function(e,t){l.ref("users").push({name:e,phoneNo:t})}(r,j),localStorage.setItem("userPhone",j),e.push("/borrow")})).catch((function(e){alert("Invalid OTP")}))},children:[Object(d.jsxs)("div",{className:"inp",children:[Object(d.jsx)("label",{children:" Enter OTP "}),Object(d.jsx)("input",{type:"number",required:!0,placeholder:"Enter OTP ...",onChange:function(e){return f(e.target.value)}})]}),Object(d.jsxs)("div",{className:"verify-otp",children:[" ",Object(d.jsx)("button",{children:"Verify"})," "]})]})})]})})}var x=n(12),p=(n(46),function(){var e=Object(b.g)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(""),a=Object(i.a)(s,2),j=a[0],O=a[1],x=Object(c.useState)(""),p=Object(i.a)(x,2),f=p[0],m=p[1],v=Object(c.useState)(""),w=Object(i.a)(v,2),g=w[0],N=w[1],S=Object(c.useState)([]),I=Object(i.a)(S,2),R=I[0],y=I[1],C=Object(c.useRef)("");Object(c.useEffect)((function(){try{C.current.focus()}catch(e){}}),[]);return Object(c.useEffect)((function(){l.ref("users").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({name:n.name,phoneNo:n.phoneNo})})),y(t)}))}),[]),Object(d.jsxs)("div",{className:"borrow-comp",children:[Object(d.jsxs)("div",{className:"users",children:[Object(d.jsx)("h1",{children:"Current Users"}),R?Object(d.jsx)("div",{children:R.map((function(e,t){return Object(d.jsx)("div",{className:"user",children:Object(d.jsxs)("li",{children:[" ",e.name," "]})},t)}))}):Object(d.jsx)("h2",{children:"No Users Found"})]}),Object(d.jsxs)("div",{className:"borrow",children:[Object(d.jsx)("h1",{children:"REQUEST HERE"}),Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" Borrow Amount "}),Object(d.jsx)("input",{type:"number",value:r,placeholder:"Enter the borrow amount",onChange:function(e){o(e.target.value)},ref:C,required:!0})]}),Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" Borrow Reason "}),Object(d.jsx)("input",{type:"text",value:j,placeholder:"Reason for Borrowing",onChange:function(e){O(e.target.value)},required:!0})]}),Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" Borrow Duration "}),Object(d.jsx)("input",{type:"text",value:f,placeholder:"Enter the Borrow Duration",onChange:function(e){m(e.target.value)},required:!0})]}),Object(d.jsxs)("div",{className:"borrow-fields",children:[Object(d.jsx)("label",{children:" UPI ID "}),Object(d.jsx)("input",{value:g,placeholder:"Enter your UPI ID",onChange:function(e){N(e.target.value)},required:!0})]}),Object(d.jsx)("div",{className:"raise-request",children:Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),r&&f&&h&&g?(h(r,j,f,g),e.push("/dashboard")):alert("Input Fields can't be empty ")},children:"Raise Borrow Request"})}),Object(d.jsx)("div",{className:"signout-btn",children:Object(d.jsx)("button",{onClick:function(){u.auth().signOut().then((function(){localStorage.removeItem("userPhone"),e.push("/"),alert("Sign Out Successfully...")})).catch((function(e){}))},children:"Sign Out"})})]})]})]})}),f=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:" OOPS.! Sommething Went Wrong..."})})},m=(n(47),function(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsxs)(x.b,{to:"/",children:[" ",Object(d.jsx)("h1",{children:"Borrow App"})," "]}),Object(d.jsx)("div",{children:Object(d.jsx)(x.b,{to:"/",className:"home-btn",children:" Home "})})]})}),v=(n(48),function(){return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("h1",{children:"Borrow Money.?"}),Object(d.jsx)("div",{className:"apply-btn",children:Object(d.jsx)(x.b,{to:"/signin",children:Object(d.jsx)("button",{children:" Borrow Now "})})})]})}),w=n(26),g=(n(49),function(){var e=Object(b.g)(),t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],o=n[1];Object(w.useEffect)((function(){l.ref("borrowReq").on("value",(function(e){var t=[];e.forEach((function(e){var n=e.val();t.push({borrowAmount:n.borrowAmount,borrowDuration:n.borrowDuration,borrowReason:n.borrowReason,borrowUpiID:n.borrowUpiID})})),o(t)}))}),[]);return Object(d.jsxs)("div",{className:"dashboard",children:[r.length>0?Object(d.jsxs)("div",{className:"requests",children:[Object(d.jsx)("h1",{children:"All Requests"}),Object(d.jsx)("div",{className:"details",children:r.map((function(e,t){return Object(d.jsxs)("div",{className:"req",children:[Object(d.jsxs)("li",{children:[" Amount: ",e.borrowAmount," "]}),Object(d.jsxs)("li",{children:[" Duration: ",e.borrowDuration," "]}),Object(d.jsxs)("li",{children:[" Reason: ",e.borrowReason," "]}),Object(d.jsxs)("li",{children:[" Upi ID: ",e.borrowUpiID," "]})]},t)}))})]}):Object(d.jsx)("h2",{className:"no-req",children:"No Requests Found"}),Object(d.jsx)("div",{className:"raiseNewReq",children:Object(d.jsx)("button",{onClick:function(){e.push("/borrow")},children:"Raise New Request"})}),Object(d.jsx)("div",{className:"signout-btn",children:Object(d.jsx)("button",{onClick:function(){u.auth().signOut().then((function(){localStorage.removeItem("userPhone"),e.push("/"),alert("Sign Out Successfully...")})).catch((function(e){}))},children:"Sign Out"})})]})});var N=function(){var e=localStorage.getItem("userPhone");function t(t){var n=t.Component,c=t.path;return e=localStorage.getItem("userPhone"),Object(d.jsx)(b.b,{path:c,render:function(t){return e?Object(d.jsx)(n,Object(a.a)({},t)):Object(d.jsx)(b.a,{to:"/"})}})}return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(m,{}),Object(d.jsxs)(b.d,{children:[Object(d.jsx)(b.b,{exact:!0,path:"/",component:v}),Object(d.jsx)(b.b,{exact:!0,path:"/signin",component:O}),Object(d.jsx)(t,{exact:!0,path:"/borrow",Component:p}),Object(d.jsx)(t,{exact:!0,path:"/dashboard",Component:g}),Object(d.jsx)(b.b,{component:f})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),o(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),S()}},[[50,1,2]]]);
//# sourceMappingURL=main.f8eca849.chunk.js.map